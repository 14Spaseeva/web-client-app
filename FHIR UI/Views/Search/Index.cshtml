@using FHIR_UI.Models
@model FHIR_UI.Models.CommonViewModel
@{
    ViewData["Title"] = "Search";
}

<html>
<head>
    <title>тестик</title>
</head>
<h2>
    Search
</h2>
<body>
    <center>
        <table width="1000px">
            <tr height="500px">
                <td bgcolor="#EFEEFF" width="20px" valign="top">
                    @foreach (var v in Model.Types.TypesAsArray)
                    {
                        <p> <a href="Search?type=@v.ToString()">* @v.ToString()</a> </p>
                    }
                </td>
                <td bgcolor="#F8FEFE" valign="top">

                    <form action="~/search" method="get">
                        @for (int i = 0; i < Model.SearchRes.pagesAmount; ++i)
                        {
                            <a href="Search?type=@Model.SearchRes.Type&page=@(i+1)">@(i + 1)</a>
                        }
                    </form>
                    @{

                    if (Model.SearchRes.Type != null)
                    {
                    <h2>type @Model.SearchRes.Type</h2>
                    <p> Found @Model.SearchRes._amount items</p>
                    <table border="1">
                        <tr>
                            <th>ID</th>
                            <th>Action</th>
                        </tr>
                        @foreach (String r in Model.SearchRes.result)
                        {
                            <tr>
                                <th> <p>@r </p> </th>
                                <th>
                                    <a href="Search/Read?type=@Model.SearchRes.Type&id=@r">Read</a>
                                    <a href="Search/Edit?type=@Model.SearchRes.Type&id=@r">Edit</a>
                                </th>
                            </tr>
                        }
                    </table>
                    }
                    else
                    {
                    <p>Type is not set</p>
                    }
                    }
                </td>
            </tr>
        </table>
    </center>
</body>
</html>

